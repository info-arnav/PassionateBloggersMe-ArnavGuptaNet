{
  "manifest": {
    "name": "react-async-script",
    "version": "1.2.0",
    "description": "A composition mixin for loading scripts asynchronously for React",
    "main": "lib/async-script-loader.js",
    "module": "lib/esm/async-script-loader.js",
    "scripts": {
      "build": "rm -rf lib && npm run build:cjs && npm run build:esm",
      "build:cjs": "babel src --out-dir lib",
      "build:esm": "BABEL_ENV=esm babel src --out-dir lib/esm",
      "lint": "eslint ./",
      "pretty": "prettier --write src/*.js ./*.js test/*.js",
      "test": "jest",
      "test-watch": "jest --watch",
      "prepare": "npm run build"
    },
    "repository": {
      "type": "git",
      "url": "https://github.com/dozoisch/react-async-script.git"
    },
    "keywords": [
      "react",
      "asynchronous",
      "script-loader"
    ],
    "author": {
      "name": "Hugo Dozois",
      "email": "hugo@dozoisch.com"
    },
    "license": "MIT",
    "bugs": {
      "url": "https://github.com/dozoisch/react-async-script/issues"
    },
    "homepage": "https://github.com/dozoisch/react-async-script",
    "devDependencies": {
      "@babel/cli": "^7.6.4",
      "@babel/core": "^7.6.4",
      "@babel/preset-env": "^7.6.3",
      "@babel/preset-react": "^7.6.3",
      "@babel/register": "^7.6.2",
      "babel-eslint": "^10.0.3",
      "eslint": "6.6.0",
      "eslint-config-prettier": "6.4.0",
      "eslint-plugin-prettier": "3.1.1",
      "jest": "^24.9.0",
      "prettier": "^1.18.2",
      "react": "^16.11.0",
      "react-dom": "^16.11.0",
      "react-is": "^16.11.0"
    },
    "peerDependencies": {
      "react": ">=16.4.1"
    },
    "dependencies": {
      "hoist-non-react-statics": "^3.3.0",
      "prop-types": "^15.5.0"
    },
    "_registry": "npm",
    "_loc": "/home/ubuntu/.cache/yarn/v6/npm-react-async-script-1.2.0-integrity/node_modules/react-async-script/package.json",
    "readmeFilename": "README.md",
    "readme": "# React Async Script Loader\n\n[![Build Status][travis.img]][travis.url] [![npm version][npm.img]][npm.url] [![npm downloads][npm.dl.img]][npm.dl.url] [![Dependencies][deps.img]][deps.url]\n\n**NOTE* - These are the docs for the upcoming `1.0.0` release - for `v0.11.1` documention go to tag here: [0.11.1](https://github.com/dozoisch/react-async-script/tree/v0.11.1)\n\nA React HOC for loading 3rd party scripts asynchronously. This HOC allows you to wrap a component that needs 3rd party resources, like reCAPTCHA or Google Maps, and have them load the script asynchronously.\n\n## Usage\n\n#### Async Script HOC api\n\n`makeAsyncScriptLoader(getScriptUrl, options)(Component)`\n\n- `Component`: The *Component* to wrap.\n- `getScriptUrl`: *string* or *function* that returns the full URL of the script tag.\n- `options` *(optional)*:\n    - `attributes`: *object* : If the script needs attributes (such as `data-` attributes), then provide them as key/value pairs of strings and they will be added to the generated script tag.\n    - `callbackName`: *string* : If the script needs to call a global function when finished loading *(for example: `recaptcha/api.js?onload=callbackName`)*. Please provide the callback name here and it will be autoregistered on `window` for you.\n    - `globalName`: *string* : Can provide the name of the global that the script attaches to `window`. Async-script will pass this as a prop to the wrapped component. *(`props[globalName] = window[globalName]`)*\n    - `removeOnUnmount`: *boolean* **default=false** : If set to `true` removes the script tag when component unmounts.\n    - `scriptId`: *string* : If set, it adds the following id on the script tag.\n\n#### HOC Component props\n```js\nconst AsyncScriptComponent = makeAsyncScriptLoader(URL)(Component);\n// ---\n<AsyncScriptComponent asyncScriptOnLoad={callAfterScriptLoads} />\n```\n- `asyncScriptOnLoad`: *function* : called after script finishes loading. *using `script.onload`*\n\n\n#### Ref and forwardRef\n\n`react-async-script` uses react's `forwardRef` method to pass along the `ref` applied to the wrapped component.\n\nIf you pass a `ref` prop you'll have access to your wrapped components instance. See the tests for detailed example.\n\nSimple Example:\n```js\nconst AsyncHoc = makeAsyncScriptLoader(URL)(ComponentNeedsScript);\n\nclass DisplayComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this._internalRef = React.createRef();\n  }\n  componentDidMount() {\n    console.log(\"ComponentNeedsScript's Instance -\", this._internalRef.current);\n  }\n  render() { return (<AsyncHoc ref={this._internalRef} />)}\n}\n```\n\n##### Notes on Requirements\n\nAt least `React@16.4.1` is required due to `forwardRef` usage internally.\n\n\n### Example\n\nSee https://github.com/dozoisch/react-google-recaptcha\n\n```js\n// recaptcha.js\nexport class ReCAPTCHA extends React.Component {\n  componentDidUpdate(prevProps) {\n    // recaptcha has loaded via async script\n    if (!prevProps.grecaptcha && this.props.grecaptcha) {\n      this.props.grecaptcha.render(this._container)\n    }\n  }\n  render() { return (\n    <div ref={(r) => this._container = r} />)\n  }\n}\n\n// recaptcha-wrapper.js\nimport makeAsyncScriptLoader from \"react-async-script\";\nimport { ReCAPTCHA } from \"./recaptcha\";\n\nconst callbackName = \"onloadcallback\";\nconst URL = `https://www.google.com/recaptcha/api.js?onload=${callbackName}&render=explicit`;\n// the name of the global that recaptcha/api.js sets on window ie: window.grecaptcha\nconst globalName = \"grecaptcha\";\n\nexport default makeAsyncScriptLoader(URL, {\n  callbackName: callbackName,\n  globalName: globalName,\n})(ReCAPTCHA);\n\n// main.js\nimport ReCAPTCHAWrapper from \"./recaptcha-wrapper.js\"\n\nconst onLoad = () => console.log(\"script loaded\")\n\nReact.render(\n  <ReCAPTCHAWrapper asyncScriptOnLoad={onLoad} />,\n  document.body\n);\n```\n\n## Migration to 1.0\n\n- Component is now passed as a second function call\n- removeOnMount is now removeOnUnmount (typo fixed!)\n- exposeFuncs is no longer needed as it's done automatically!\n\n```diff\n-export default makeAsyncScriptLoader(ReCAPTCHA, getURL, {\n+export default makeAsyncScriptLoader(getURL, {\n   callbackName,\n   globalName,\n-  removeOnMount: initialOptions.removeOnMount || false,\n+  removeOnUnmount: initialOptions.removeOnUnmount || false,\n-  exposeFuncs: [\"getValue\", \"getWidgetId\", \"reset\", \"execute\"],\n-});\n+})(ReCAPTCHA);\n```\n\n\n## Notes\n\nPre `1.0.0` and - `React < React@16.4.1` support details in [0.11.1](https://github.com/dozoisch/react-async-script/tree/v0.11.1).\n\n---\n\n[travis.img]: https://travis-ci.org/dozoisch/react-async-script.svg?branch=master\n[travis.url]: https://travis-ci.org/dozoisch/react-async-script\n[npm.img]: https://badge.fury.io/js/react-async-script.svg\n[npm.url]: http://badge.fury.io/js/react-async-script\n[npm.dl.img]: https://img.shields.io/npm/dm/react-async-script.svg\n[npm.dl.url]: https://www.npmjs.com/package/react-async-script\n[deps.img]: https://david-dm.org/dozoisch/react-async-script.svg\n[deps.url]: https://david-dm.org/dozoisch/react-async-script\n",
    "licenseText": "The MIT License (MIT)\n\nCopyright (c) 2017 Hugo Dozois\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/react-async-script/-/react-async-script-1.2.0.tgz",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/react-async-script/-/react-async-script-1.2.0.tgz",
    "hash": "",
    "integrity": "sha512-bCpkbm9JiAuMGhkqoAiC0lLkb40DJ0HOEJIku+9JDjxX3Rcs+ztEOG13wbrOskt3n2DTrjshhaQ/iay+SnGg5Q==",
    "registry": "npm",
    "packageName": "react-async-script",
    "cacheIntegrity": "sha512-bCpkbm9JiAuMGhkqoAiC0lLkb40DJ0HOEJIku+9JDjxX3Rcs+ztEOG13wbrOskt3n2DTrjshhaQ/iay+SnGg5Q== sha1-q5QSom8Lg/Xi4A3h0r78lACDSyE="
  },
  "registry": "npm",
  "hash": "6c2a646e6f49880b8c1a192aa00882d252e46f8d032741ce109224bbef490e3c57dd172cfb3b44386d77c1baceb24b779f60d3ae3b2185a43f89acbe4a71a0e5"
}